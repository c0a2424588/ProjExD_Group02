# Car Crash and Siren

## 実行環境の必要条件
* python >= 3.10
* pygame >= 2.1

## ゲームの概要
* 勇者が魔王を倒すノンフィールドRPG
* 基本機能の参考にしたAI：Gemini

## ゲームの遊び方
* まず1/2/3キーを押してステージを選択する
* SPACEキーで次のターンへ
* 敵を倒すとステータスが上がる

## ゲームの実装
### 共通基本機能
* 背景画像と主人公キャラクターの描画

### 分担追加機能
* 丸焼きエフェクト（担当：ふしみ）：バーナーにより豪華豚を丸焼きにするエフェクトに関するクラス
* キッチンタイマー機能（担当：ぷしみ）：制限時間以内に調理が完了しなかった場合に，豪華豚が脱走する機能
* 調理機能（担当：ぶしみ）：調理器具をキー押下により選択し，豪華豚を調理する機能

### メモ
* クラス内の変数は，すべて，「get_変数名」という名前のメソッドを介してアクセスするように設計してある
* すべてのクラスに関係する関数は，クラスの外で定義してある

このコードの解説（RPG作りのポイント）
1. クラス（Unit）の重要性
Python

class Unit:
    def __init__(self, name, hp, ...):

RPGでは敵や味方がたくさん出てきますが、全員「HPがある」「攻撃する」という共通点があります。これをUnitというクラス（ひな形）にまとめることで、hero = Unit(...)、demon = Unit(...) のように、データを入れるだけでキャラを無限に量産できるようになります。
2. ダメージ計算の工夫
Python

base_damage = self.attack_power - target.defense_power
variance = random.randint(-3, 3) 
damage = base_damage + variance

単なる引き算だと毎回同じダメージになりつまらないため、random.randintで**「ゆらぎ（乱数）」を入れています。 これを発展させると、「20分の1の確率でダメージ2倍」といったクリティカルヒット**の実装もここに追加するだけで済みます。
3. ログの管理
Python

battle_logs.append(msg)
recent_logs = battle_logs[-5:] 

RPGの戦闘は「過去に何が起きたか」の履歴です。文字列をリスト（配列）にどんどん溜め込んでいき、描画するときは**「リストの最後尾（最新）の数行だけ」**を取り出して表示しています。これがウィンドウメッセージの基礎になります。

この基礎部分が理解できれば、次は以下のような拡張が可能です。

    クリティカルヒットの実装: サイコロを振って、運が良ければダメージを倍にする。

    スキルの実装: attackメソッドとは別にheal（回復）メソッドを作る。

    UIの実装: スペースキー進行ではなく、マウスで「たたかう」「にげる」のボタンを選べるようにする。

まずはこのコードを実行して、「スペースキーでバトルが進む」感覚を掴んでみてください。 次のステップとして、**「クリティカルヒット」や「回復魔法」**を追加してみたいですか？